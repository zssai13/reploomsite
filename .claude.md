# HYROS Sales Page Generator


## basic rules

1. First think through the problem, read the codebase for relevant files.

2. Before you make any major changes, check in with me and I will verify the plan.

3. Please every step of the way just give me a high level explanation of what changes you made

4. Make every task and code change you do as simple as possible. We want to avoid making any massive or complex changes. Every change should impact as little code as possible. Everything is about simplicity.

5. Maintain a documentation file that describes how the architecture of the app works inside and out.

6. Never speculate about code you have not opened. If the user references a specific file, you MUST read the file before answering. Make sure to investigate and read relevant files BEFORE answering questions about the codebase. Never make any claims about code before investigating unless you are certain of the correct answer - give grounded and hallucination-free answers.

## Project Overview
Internal sales tool for HYROS sales reps to generate personalized, AI-powered sales pages for prospective clients. Each generated package consists of three pages:
- **Pitch Page**: Educational content with Loom video, benefits, testimonials - NO CTAs
- **Close Page 1**: Same content + Annual package CTA
- **Close Page 2**: Same content + Annual + Monthly (downsell) CTAs

## Tech Stack
- **Framework**: Next.js 14 (App Router)
- **Styling**: TailwindCSS (mobile-first - 90% of traffic is mobile)
- **Database**: Vercel KV (Redis)
- **File Storage**: Vercel Blob
- **AI - Research**: Gemini API (business URL analysis)
- **AI - Generation**: Anthropic Claude Opus 4.5 (content generation)
- **Authentication**: NextAuth.js (Credentials provider)
- **Deployment**: Vercel

## Key Documentation
- `docs/PRD.md` - Product requirements document
- `docs/ARCHITECTURE.md` - Technical architecture and data models
- `docs/BUILD_PLAN.md` - Phased build plan
- `docs/CHANGELOG.md` - Version history and phase completion log
- `docs/PAGE_TEMPLATE_GUIDE.md` - Page structure + styling (combines wireframes + style guide)
- `docs/HYROS_STYLE_GUIDE.md` - Official HYROS brand design system
- `docs/style-reference/` - 6 reference screenshots from HYROS website

## Wireframes Location
- `C:\Users\bills\OneDrive\Desktop\Design\RepSite\pitchpage.png`
- `C:\Users\bills\OneDrive\Desktop\Design\RepSite\closepage1.png`
- `C:\Users\bills\OneDrive\Desktop\Design\RepSite\closepage2.png`

## Current Phase
**Phase 1: Foundation** - Project setup and documentation

## Important Patterns

### Authentication
- Simple credential auth: username=`hyrosrep`, password=`hyrosrep`
- All `/admin/*` routes protected by middleware
- Public pages at `/p/[slug]/pitch`, `/p/[slug]/close-1`, `/p/[slug]/close-2` require no auth

### Data Storage
- Pages stored in Vercel KV with slug-based lookup
- RAG documents (MD files) stored in Vercel Blob
- Testimonial images stored in Vercel Blob with metadata in KV

### Page Generation Flow
1. Sales rep fills form (business URL, Loom video, pricing, etc.)
2. System extracts logo from business URL (fallback: manual upload)
3. Gemini API researches the business (model, industry, products)
4. Claude generates personalized content using RAG context
5. Testimonials matched by business type/industry/tags
6. ROI calculated (15% spend reduction, 15% revenue increase)
7. 3 pages created and publicly accessible

### Mobile-First Design
- Primary breakpoints: 320px (base), 375px (xs), 414px (sm), 768px (md), 1024px (lg)
- Touch targets minimum 44px
- Video embed maintains 16:9 aspect ratio
- Large, legible typography

## Code Style
- Use Server Components by default
- Client Components only when needed (`'use client'`)
- Zod for all validation
- TypeScript strict mode
- All public pages use Server Components for zero client JS

## Key Data Models

### GeneratedPage
```typescript
{
  id: string;
  slug: string;
  referenceName: string;
  businessUrl: string;
  companyName: string;
  loomVideoUrl: string;
  companyLogoUrl: string | null;
  adSpend: number;
  adRevenue: number;
  primaryProductLink: string;
  primaryProductPrice: number;
  downsellProductLink: string;
  downsellProductPrice: number;
  content: {
    headline: string;
    subheadline: string;
    benefits: Array<{ title: string; description: string }>;
    testimonialIds: string[];
    roiCopy: string;
  };
  status: 'generating' | 'ready' | 'error';
  createdAt: string;
}
```

### Testimonial
```typescript
{
  id: string;
  imageUrl: string;
  businessName: string;
  businessType: 'ecommerce' | 'info-product' | 'saas' | 'agency' | 'coaching' | 'local-business';
  industry: string;
  adSpendRange: string;
  tags: string[];
}
```

## Environment Variables Required
```
NEXTAUTH_SECRET=
NEXTAUTH_URL=
KV_URL=
KV_REST_API_URL=
KV_REST_API_TOKEN=
BLOB_READ_WRITE_TOKEN=
GEMINI_API_KEY=
ANTHROPIC_API_KEY=
```

## Design Tool
This project uses the **frontend-design skill** for creating high-quality, mobile-first UI components. The skill should be invoked when building public page components to ensure polished, production-grade design that matches the HYROS brand.

## HYROS Style Quick Reference
- **Theme**: High-tech minimalist, heavy dark/light contrast
- **Fonts**: Inter (primary), Playfair Display (accent numbers only)
- **Buttons**: Pill shape (`border-radius: 9999px`), yellow gradient CTAs
- **Avatars**: Rounded squares (`border-radius: 12px`) - NOT circles
- **Colors**: Deep black (#000), Pure white (#FFF), Hyros blue (#3B82F6)
- **Cards**: Glass cards on dark, white cards with subtle shadows on light

**IMPORTANT**: Page FORMAT (wireframes) stays fixed. Only the AESTHETIC follows the style guide.
